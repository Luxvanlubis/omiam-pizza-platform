const { PrismaClient } = require('@prisma/client');

async function seedRestaurantData() { const prisma = new PrismaClient(); try { console.log('üå± Seeding restaurant data...'); // Check if restaurant already exists const existingRestaurant = await prisma.restaurant.findFirst(); if (existingRestaurant) { console.log('‚úì Restaurant data already exists'); return; } // Create restaurant with related data const restaurant = await prisma.restaurant.create({ data: { name: "O'Miam Guingamp", address: "12 Place du Centre, 22200 Guingamp", phone: "02 96 43 21 00", email: "contact@omiam-guingamp.fr", website: "https://omiam-guingamp.fr", description: "Pizzeria authentique au c≈ìur de Guingamp. Sp√©cialit√©s italiennes avec four √† bois et ingr√©dients frais.", signature: JSON.stringify([ "Pizza au feu de bois", "Ingr√©dients frais et locaux", "Recettes traditionnelles italiennes", "Ambiance chaleureuse" ]), openedDate: new Date('2020-03-15'), rating: 4.7, highlights: JSON.stringify([ "Meilleure pizzeria de Guingamp", "Four √† bois traditionnel", "Produits locaux et bio", "Service rapide et convivial" ]), isActive: true, // Create related channels channels: { create: [ { name: "deliveroo", url: "https://deliveroo.fr/fr/menu/guingamp/omiam", isActive: true }, { name: "uber-eats", url: "https://ubereats.com/fr/store/omiam-guingamp", isActive: true }, { name: "facebook", url: "https://facebook.com/omiamguingamp", isActive: true }, { name: "instagram", url: "https://instagram.com/omiam_guingamp", isActive: true } ] }, // Create media pages mediaPages: { create: [ { title: "Galerie Photos", url: "/galerie", mediaType: "gallery", isActive: true }, { title: "Menu PDF", url: "/files/menu-omiam.pdf", mediaType: "menu", isActive: true }, { title: "Page Facebook", url: "https://facebook.com/omiamguingamp", mediaType: "social", isActive: true } ] }, // Create specials specials: { create: [ { name: "Menu Midi", description: "Pizza + Boisson + Dessert", price: 15.90, schedule: JSON.stringify({ days: ["lundi", "mardi", "mercredi", "jeudi", "vendredi"], hours: "11h30-14h30" }), isActive: true }, { name: "Happy Hour", description: "2√®me pizza √† -50%", valueHint: 8.0, schedule: JSON.stringify({ days: ["mardi", "mercredi", "jeudi"], hours: "18h00-19h30" }), isActive: true }, { name: "Too Good To Go", description: "Panier surprise anti-gaspi", price: 4.99, valueHint: 15.0, schedule: JSON.stringify({ days: ["tous les jours"], hours: "20h00-21h30" }), isActive: true } ] } }, include: { channels: true, mediaPages: true, specials: true } }); console.log('‚úÖ Restaurant data seeded successfully!'); console.log(`Created restaurant: ${restaurant.name}`); console.log(`- ${restaurant.channels.length} channels`); console.log(`- ${restaurant.mediaPages.length} media pages`); console.log(`- ${restaurant.specials.length} specials`); } catch (error) { console.error('‚ùå Error seeding restaurant data:', error); } finally { await prisma.$disconnect(); }
}

seedRestaurantData();